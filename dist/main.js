(()=>{"use strict";class e{constructor(e,t,o,n){this._id=Math.floor(99*Math.random())+1,this._title=e,this._checked=!1,this._discription=t,this._dueDate=o,this._priority=n}set discription(e){this._discription=e}set checked(e){this._checked=e}get checked(){return this._checked}get id(){return this._id}set title(e){this._title=e}get title(){return this._title}set priority(e){this._priority=e}get priority(){return this._priority}set dueDate(e){this._dueDate=e}get dueDate(){return this._dueDate}}class t{constructor(e){this._id=Math.floor(99*Math.random())+1,this._name=e,this._todos=[]}removeTodo(e){this._todos.splice(e,1)}get name(){return this._name}set name(e){this._name=e}}const o=[],n=new t("default");o.push(n);const s=document.querySelector("body"),a=document.querySelector(".add-pro-overlay"),i=document.querySelector(".projects-section"),d=document.querySelector("#project-name"),c=document.querySelector(".add-todo-overlay"),r=document.querySelector(".todo-form"),l=document.querySelector("#project"),u=document.querySelector(".content"),m=document.querySelector(".todo-cancel-btn"),p=document.querySelector(".todo-update-btn"),h=document.querySelector(".todo-submit-btn"),_=document.querySelector(".project-select");function f(){o.forEach(((e,t)=>{const o=document.createElement("div");o.classList.add("project"),o.dataset.id=e._id,o.innerHTML=`<a class="side-project"><i class="icon fa-solid fa-table-list" style="color: #232931;"></i>  ${e._name}<span class="remove-project"></span></a>`,i.appendChild(o)}))}function v(e){e.forEach((e=>{const t=document.createElement("div");var o;t.classList.add("todo-card"),t.dataset.id=e._id,e._checked&&t.classList.add("todo-card-checked"),t.style.borderRight="high"===(o=e._priority)?"thick solid #DF2E38":"medium"===o?"thick solid #FF6F3C":"low"===o?"thick solid #FFC93C":void 0,t.innerHTML=`\n        <p class="card-title">${e._title}</p>\n        <p class="card-duedate">${e._dueDate}</p>\n        <div class="card-btns">\n            <div class="card-edit">\n                <i class="edit-card fa-regular fa-pen-to-square fa-lg" style="color: #363636;"></i>\n            </div>\n            <div class="card-remove">\n                <i class="card-rm fa-solid fa-delete-left fa-lg" style="color: #212121;"></i>\n            </div>\n        </div>`,u.appendChild(t)}))}function g(e){const t=document.createElement("div");t.classList.add("project-title"),t.innerHTML=`\n    <div class="title">${e}</div>\n    <div class="add-todo-btn">\n        <i class="todo-btn fa-solid fa-square-plus fa-xl" style="color: #232931;"></i>\n    </div>`,u.appendChild(t)}function y(){const e=document.createElement("div");document.createElement("div"),e.classList.add("projects"),e.innerHTML=' <div class="pro-title">Projects</div>\n    <div class="add-pro-btn">\n        <i class="project-btn fa-solid fa-square-plus fa-xl" style="color: #232931;"></i>\n    </div>',i.appendChild(e)}document.querySelector(".btn"),document.querySelector("input"),g("Inbox"),y(),f(),s.addEventListener("click",(n=>{if(console.log(n.target),n.target.classList.contains("project-btn")&&(a.hidden=!1),n.target.classList.contains("pro-submit-btn")&&(d.validity.valid&&(a.hidden=!0,function(e){const n=new t(e);o.push(n)}(d.value),i.innerHTML="",y(),f(),function(e){const t=document.createElement("option");t.text=e,l.options.add(t),console.log(project._name)}(d.value)),console.log(o),d.value=""),n.target.classList.contains("todo-btn")&&(c.hidden=!1),n.target.classList.contains("todo-submit-btn")){n.preventDefault();const t=r.elements.title.value,s=r.elements.details.value,a=r.elements.dueDate.value,i=r.elements.priority.value,d=r.elements.project.value;""!=t&&""!=a&&(function(t,n,s,a,i){o.forEach((o=>{if(o._name===i){const i=new e(t,n,s,a);o._todos.push(i)}}))}(t,s,a,i,d),o.forEach((e=>{d.toLowerCase().trim()===e._name.toLowerCase().trim()&&(u.textContent="",g(e._name),v(e._todos),c.hidden=!0,r.reset())})))}if(n.target.classList.contains("todo-cancel-btn")&&m.addEventListener("click",(()=>c.hidden=!0)),n.target.classList.contains("side-project")||n.target.classList.contains("project")){const e=n.target.textContent;for(let t of o)console.log(typeof t._name+"=="),e.toLowerCase().trim()===t._name.toLowerCase().trim()&&(console.log("it passed the test bro"),u.textContent="",g(e),v(t._todos))}if((n.target.classList.contains("inbox")||n.target.classList.contains("inbox-link"))&&(u.textContent="",g("Inbox"),o.forEach((e=>{v(e._todos)}))),n.target.classList.contains("card-rm")){const e=n.target.parentElement.parentElement.parentElement.dataset.id;console.log(e),o.forEach((t=>{t._todos.forEach(((o,n)=>{o._id==e&&(t.removeTodo(n),u.textContent="",g(t._name),v(t._todos))}))}))}if(n.target.classList.contains("card-title")){const e=n.target.parentElement.dataset.id,t=n.target.parentElement;o.forEach((o=>{o._todos.forEach((o=>{o._id==e&&(function(e){e._checked?e._checked&&(e.checked=!1):e.checked=!0}(o),t.classList.toggle("todo-card-checked"))}))}))}if(n.target.classList.contains("edit-card")){const e=n.target.parentElement.parentElement.parentElement.dataset.id;o.forEach(((t,o)=>{t._todos.forEach(((n,s)=>{n._id==e&&(r.reset(),r.elements.title.value=n._title,r.elements.details.value=n._discription,r.elements.dueDate.value=n._dueDate,r.elements.priority.value=n._priority.toLowerCase(),r.elements.project.value=t._name.toLowerCase(),r.dataset.toIndex=s,r.dataset.proIndex=o,c.hidden=!1,p.hidden=!1,h.hidden=!0,_.hidden=!0)}))}))}if(n.target.classList.contains("todo-update-btn")){n.preventDefault();const e=Number(n.target.parentElement.parentElement.dataset.toIndex),t=Number(n.target.parentElement.parentElement.dataset.proIndex),a=o[t]._name;s=o[t]._todos[e],""==r.elements.title&&""==r.elements.dueDate||(s.title=r.elements.title.value,s.discription=r.elements.details.value,s.dueDate=r.elements.dueDate.value,s.priority=r.elements.priority.value),u.textContent="",g(a),v(o[t]._todos),h.hidden=!1,p.hidden=!0,c.hidden=!0,_.hidden=!1,r.reset()}var s;if(n.target.classList.contains("remove-project")){const e=n.target.parentElement.parentElement.dataset.id;o.forEach(((t,n)=>{t._id==e&&o.splice(n,1)})),i.innerHTML="",y(),f()}})),console.log(Date.now())})();