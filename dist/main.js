(()=>{"use strict";class e{constructor(e,t,n,a){this._id=Math.floor(99*Math.random())+1,this._title=e,this._checked=!1,this._discription=t,this._dueDate=n,this._priority=a}set discription(e){this._discription=e}set checked(e){this._checked=e}get checked(){return this._checked}get id(){return this._id}set title(e){this._title=e}get title(){return this._title}set priority(e){this._priority=e}get priority(){return this._priority}set dueDate(e){this._dueDate=e}get dueDate(){return this._dueDate}}class t{constructor(e){this._id=Math.floor(99*Math.random())+1,this._name=e,this._todos=[]}removeTodo(e){this._todos.splice(e,1)}get name(){return this._name}set name(e){this._name=e}}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o(e){n(1,arguments);var t=r(e);return t.setHours(0,0,0,0),t}Math.pow(10,8);var i=6e4,s=36e5;function d(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function c(e,t){var a;n(1,arguments);var r=d(null!==(a=null==t?void 0:t.additionalDigits)&&void 0!==a?a:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,c=function(e){var t,n={},a=e.split(l.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],l.timeZoneDelimiter.test(n.date)&&(n.date=e.split(l.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var r=l.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}(e);if(c.date){var y=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};var r=a[1]?parseInt(a[1]):null,o=a[2]?parseInt(a[2]):null;return{year:null===o?r:100*o,restDateString:e.slice((a[1]||a[2]).length)}}(c.date,r);o=function(e,t){if(null===t)return new Date(NaN);var n=e.match(u);if(!n)return new Date(NaN);var a=!!n[4],r=p(n[1]),o=p(n[2])-1,i=p(n[3]),s=p(n[4]),d=p(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,d)?function(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var r=7*(t-1)+n+1-(a.getUTCDay()||7);return a.setUTCDate(a.getUTCDate()+r),a}(t,s,d):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(v[t]||(g(e)?29:28))}(t,o,i)&&function(e,t){return t>=1&&t<=(g(e)?366:365)}(t,r)?(c.setUTCFullYear(t,o,Math.max(r,i)),c):new Date(NaN)}(y.restDateString,y.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var _,b=o.getTime(),D=0;if(c.time&&(D=function(e){var t=e.match(m);if(!t)return NaN;var n=h(t[1]),a=h(t[2]),r=h(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,r)?n*s+a*i+1e3*r:NaN}(c.time),isNaN(D)))return new Date(NaN);if(!c.timezone){var w=new Date(b+D),E=new Date(0);return E.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),E.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),E}return _=function(e){if("Z"===e)return 0;var t=e.match(f);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,r)?n*(a*s+r*i):NaN}(c.timezone),isNaN(_)?new Date(NaN):new Date(b+D+_)}var l={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,f=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p(e){return e?parseInt(e):1}function h(e){return e&&parseFloat(e.replace(",","."))||0}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400==0||e%4==0&&e%100!=0}var y={};function _(){return y}function b(e,t){var a,o,i,s,c,l,u,m;n(1,arguments);var f=_(),p=d(null!==(a=null!==(o=null!==(i=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(c=t.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:f.weekStartsOn)&&void 0!==o?o:null===(u=f.locale)||void 0===u||null===(m=u.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==a?a:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=r(e),v=h.getDay(),g=(v<p?7:0)+v-p;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}const D=[],w=new t("default");D.push(w);const E=document.querySelector("body"),L=document.querySelector(".add-pro-overlay"),N=document.querySelector(".projects-section"),T=document.querySelector("#project-name"),S=document.querySelector(".add-todo-overlay"),C=document.querySelector(".todo-form"),k=document.querySelector("#project"),j=document.querySelector(".content"),M=document.querySelector(".todo-cancel-btn"),x=document.querySelector(".todo-update-btn"),q=document.querySelector(".todo-submit-btn"),H=document.querySelector(".project-select");function I(){D.forEach(((e,t)=>{const n=document.createElement("div");n.classList.add("project"),n.dataset.id=e._id,n.innerHTML=`<a class="side-project"><i class="icon fa-solid fa-table-list" style="color: #232931;"></i>  ${e._name}<span class="remove-project"></span></a>`,N.appendChild(n)}))}function U(e){e.forEach((e=>{const t=document.createElement("div");t.classList.add("todo-card"),t.dataset.id=e._id,e._checked&&t.classList.add("todo-card-checked"),t.style.borderRight=$(e._priority),t.innerHTML=`\n        <p class="card-title">${e._title}</p>\n        <p class="card-duedate">${e._dueDate}</p>\n        <div class="card-btns">\n            <div class="card-edit">\n                <i class="edit-card fa-regular fa-pen-to-square fa-lg" style="color: #363636;"></i>\n            </div>\n            <div class="card-remove">\n                <i class="card-rm fa-solid fa-delete-left fa-lg" style="color: #212121;"></i>\n            </div>\n        </div>`,j.appendChild(t)}))}function F(){k.innerHTML="";for(let e of D){const t=document.createElement("option");t.text=e._name,k.options.add(t),console.log(e._name)}}function $(e){return"high"===e?"thick solid #DF2E38":"medium"===e?"thick solid #FF6F3C":"low"===e?"thick solid #FFC93C":void 0}function O(e){const t=document.createElement("div");t.classList.add("project-title"),t.innerHTML=`\n    <div class="title">${e}</div>\n    <div class="add-todo-btn">\n        <i class="todo-btn fa-solid fa-square-plus fa-xl" style="color: #232931;"></i>\n    </div>`,j.appendChild(t)}function Z(){const e=document.createElement("div");document.createElement("div"),e.classList.add("projects"),e.innerHTML=' <div class="pro-title">Projects</div>\n    <div class="add-pro-btn">\n        <i class="project-btn fa-solid fa-square-plus fa-xl" style="color: #232931;"></i>\n    </div>',N.appendChild(e)}function z(e){const t=document.createElement("div");t.classList.add("todo-card"),t.dataset.id=e._id,e._checked&&t.classList.add("todo-card-checked"),t.style.borderRight=$(e._priority),t.innerHTML=`\n        <p class="card-title">${e._title}</p>\n        <p class="card-duedate">${e._dueDate}</p>\n        <div class="card-btns">\n            <div class="card-edit">\n                <i class="edit-card fa-regular fa-pen-to-square fa-lg" style="color: #363636;"></i>\n            </div>\n            <div class="card-remove">\n                <i class="card-rm fa-solid fa-delete-left fa-lg" style="color: #212121;"></i>\n            </div>\n        </div>`,j.appendChild(t)}document.querySelector(".btn"),document.querySelector("input"),O("Inbox"),Z(),I(),F(),E.addEventListener("click",(a=>{if(console.log(a.target),a.target.classList.contains("project-btn")&&(L.hidden=!1),a.target.classList.contains("pro-submit-btn")&&(T.validity.valid&&(L.hidden=!0,function(e){const n=new t(e);D.push(n)}(T.value),N.innerHTML="",Z(),I()),console.log(D),T.value=""),a.target.classList.contains("todo-btn")&&(S.hidden=!1,F()),a.target.classList.contains("todo-submit-btn")){a.preventDefault();const t=C.elements.title.value,n=C.elements.details.value,r=C.elements.dueDate.value,o=C.elements.priority.value,i=C.elements.project.value;""!=t&&""!=r&&(function(t,n,a,r,o){D.forEach((i=>{if(i._name===o){const o=new e(t,n,a,r);i._todos.push(o)}}))}(t,n,r,o,i),D.forEach((e=>{i.toLowerCase().trim()===e._name.toLowerCase().trim()&&(j.textContent="",O(e._name),U(e._todos),S.hidden=!0,C.reset())})))}if(a.target.classList.contains("todo-cancel-btn")&&M.addEventListener("click",(()=>{S.hidden=!0,q.hidden=!1,x.hidden=!0})),a.target.classList.contains("side-project")||a.target.classList.contains("project")){const e=a.target.textContent;for(let t of D)console.log(typeof t._name+"=="),e.toLowerCase().trim()===t._name.toLowerCase().trim()&&(console.log("it passed the test bro"),j.textContent="",O(e),U(t._todos))}if((a.target.classList.contains("inbox")||a.target.classList.contains("inbox-link"))&&(j.textContent="",O("Inbox"),D.forEach((e=>{U(e._todos)}))),a.target.classList.contains("card-rm")){const e=a.target.parentElement.parentElement.parentElement.dataset.id;console.log(e),D.forEach((t=>{t._todos.forEach(((n,a)=>{n._id==e&&(t.removeTodo(a),j.textContent="",O(t._name),U(t._todos))}))}))}if(a.target.classList.contains("card-title")){const e=a.target.parentElement.dataset.id,t=a.target.parentElement;D.forEach((n=>{n._todos.forEach((n=>{n._id==e&&(function(e){e._checked?e._checked&&(e.checked=!1):e.checked=!0}(n),t.classList.toggle("todo-card-checked"))}))}))}if(a.target.classList.contains("edit-card")){const e=a.target.parentElement.parentElement.parentElement.dataset.id;D.forEach(((t,n)=>{t._todos.forEach(((a,r)=>{a._id==e&&(C.reset(),C.elements.title.value=a._title,C.elements.details.value=a._discription,C.elements.dueDate.value=a._dueDate,C.elements.priority.value=a._priority.toLowerCase(),C.elements.project.value=t._name.toLowerCase(),C.dataset.toIndex=r,C.dataset.proIndex=n,S.hidden=!1,x.hidden=!1,q.hidden=!0,H.hidden=!0)}))}))}if(a.target.classList.contains("todo-update-btn")){a.preventDefault();const e=Number(a.target.parentElement.parentElement.dataset.toIndex),t=Number(a.target.parentElement.parentElement.dataset.proIndex),n=D[t]._name;r=D[t]._todos[e],""==C.elements.title&&""==C.elements.dueDate||(r.title=C.elements.title.value,r.discription=C.elements.details.value,r.dueDate=C.elements.dueDate.value,r.priority=C.elements.priority.value),j.textContent="",O(n),U(D[t]._todos),q.hidden=!1,x.hidden=!0,S.hidden=!0,H.hidden=!1,C.reset()}var r;if(a.target.classList.contains("remove-project")){const e=a.target.parentElement.parentElement.dataset.id;D.forEach(((t,n)=>{t._id==e&&D.splice(n,1)})),N.innerHTML="",Z(),I()}a.target.classList.contains("today")&&(j.innerHTML="",O("Today"),D.forEach((e=>{e._todos.forEach((e=>{const t=c(e._dueDate);console.log(t),function(e){return n(1,arguments),function(e,t){n(2,arguments);var a=o(e),r=o(t);return a.getTime()===r.getTime()}(e,Date.now())}(t)&&z(e)}))}))),a.target.classList.contains("week")&&(j.innerHTML="",O("Week"),D.forEach((e=>{e._todos.forEach((e=>{(function(e,t){return n(1,arguments),function(e,t,a){n(2,arguments);var r=b(e,a),o=b(t,a);return r.getTime()===o.getTime()}(e,Date.now(),t)})(c(e._dueDate))&&z(e)}))})))})),console.log(Date.now())})();