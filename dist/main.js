(()=>{"use strict";class e{constructor(e,t,n,a){this._id=Math.floor(99*Math.random())+1,this._title=e,this._checked=!1,this._discription=t,this._dueDate=n,this._priority=a}set discription(e){this._discription=e}set checked(e){this._checked=e}get checked(){return this._checked}get id(){return this._id}set title(e){this._title=e}get title(){return this._title}set priority(e){this._priority=e}get priority(){return this._priority}set dueDate(e){this._dueDate=e}get dueDate(){return this._dueDate}}class t{constructor(e){this._id=Math.floor(99*Math.random())+1,this._name=e,this._todos=[]}removeTodo(e){this._todos.splice(e,1)}get name(){return this._name}set name(e){this._name=e}}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e){n(1,arguments);var t=function(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(e);return t.setHours(0,0,0,0),t}Math.pow(10,8);var o=6e4,i=36e5;var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}var p=[31,null,31,30,31,30,31,31,30,31,30,31];function f(e){return e%400==0||e%4==0&&e%100!=0}const h=[],g=new t("default");h.push(g);const v=document.querySelector("body"),y=document.querySelector(".add-pro-overlay"),_=document.querySelector(".projects-section"),b=document.querySelector("#project-name"),D=document.querySelector(".add-todo-overlay"),E=document.querySelector(".todo-form"),L=document.querySelector("#project"),N=document.querySelector(".content"),w=document.querySelector(".todo-cancel-btn"),T=document.querySelector(".todo-update-btn"),C=document.querySelector(".todo-submit-btn"),S=document.querySelector(".project-select");function j(){h.forEach(((e,t)=>{const n=document.createElement("div");n.classList.add("project"),n.dataset.id=e._id,n.innerHTML=`<a class="side-project"><i class="icon fa-solid fa-table-list" style="color: #232931;"></i>  ${e._name}<span class="remove-project"></span></a>`,_.appendChild(n)}))}function k(e){e.forEach((e=>{const t=document.createElement("div");t.classList.add("todo-card"),t.dataset.id=e._id,e._checked&&t.classList.add("todo-card-checked"),t.style.borderRight=M(e._priority),t.innerHTML=`\n        <p class="card-title">${e._title}</p>\n        <p class="card-duedate">${e._dueDate}</p>\n        <div class="card-btns">\n            <div class="card-edit">\n                <i class="edit-card fa-regular fa-pen-to-square fa-lg" style="color: #363636;"></i>\n            </div>\n            <div class="card-remove">\n                <i class="card-rm fa-solid fa-delete-left fa-lg" style="color: #212121;"></i>\n            </div>\n        </div>`,N.appendChild(t)}))}function x(){L.innerHTML="";for(let e of h){const t=document.createElement("option");t.text=e._name,L.options.add(t),console.log(e._name)}}function M(e){return"high"===e?"thick solid #DF2E38":"medium"===e?"thick solid #FF6F3C":"low"===e?"thick solid #FFC93C":void 0}function q(e){const t=document.createElement("div");t.classList.add("project-title"),t.innerHTML=`\n    <div class="title">${e}</div>\n    <div class="add-todo-btn">\n        <i class="todo-btn fa-solid fa-square-plus fa-xl" style="color: #232931;"></i>\n    </div>`,N.appendChild(t)}function H(){const e=document.createElement("div");document.createElement("div"),e.classList.add("projects"),e.innerHTML=' <div class="pro-title">Projects</div>\n    <div class="add-pro-btn">\n        <i class="project-btn fa-solid fa-square-plus fa-xl" style="color: #232931;"></i>\n    </div>',_.appendChild(e)}document.querySelector(".btn"),document.querySelector("input"),q("Inbox"),H(),j(),x(),v.addEventListener("click",(a=>{if(console.log(a.target),a.target.classList.contains("project-btn")&&(y.hidden=!1),a.target.classList.contains("pro-submit-btn")&&(b.validity.valid&&(y.hidden=!0,function(e){const n=new t(e);h.push(n)}(b.value),_.innerHTML="",H(),j()),console.log(h),b.value=""),a.target.classList.contains("todo-btn")&&(D.hidden=!1,x()),a.target.classList.contains("todo-submit-btn")){a.preventDefault();const t=E.elements.title.value,n=E.elements.details.value,r=E.elements.dueDate.value,o=E.elements.priority.value,i=E.elements.project.value;""!=t&&""!=r&&(function(t,n,a,r,o){h.forEach((i=>{if(i._name===o){const o=new e(t,n,a,r);i._todos.push(o)}}))}(t,n,r,o,i),h.forEach((e=>{i.toLowerCase().trim()===e._name.toLowerCase().trim()&&(N.textContent="",q(e._name),k(e._todos),D.hidden=!0,E.reset())})))}if(a.target.classList.contains("todo-cancel-btn")&&w.addEventListener("click",(()=>D.hidden=!0)),a.target.classList.contains("side-project")||a.target.classList.contains("project")){const e=a.target.textContent;for(let t of h)console.log(typeof t._name+"=="),e.toLowerCase().trim()===t._name.toLowerCase().trim()&&(console.log("it passed the test bro"),N.textContent="",q(e),k(t._todos))}if((a.target.classList.contains("inbox")||a.target.classList.contains("inbox-link"))&&(N.textContent="",q("Inbox"),h.forEach((e=>{k(e._todos)}))),a.target.classList.contains("card-rm")){const e=a.target.parentElement.parentElement.parentElement.dataset.id;console.log(e),h.forEach((t=>{t._todos.forEach(((n,a)=>{n._id==e&&(t.removeTodo(a),N.textContent="",q(t._name),k(t._todos))}))}))}if(a.target.classList.contains("card-title")){const e=a.target.parentElement.dataset.id,t=a.target.parentElement;h.forEach((n=>{n._todos.forEach((n=>{n._id==e&&(function(e){e._checked?e._checked&&(e.checked=!1):e.checked=!0}(n),t.classList.toggle("todo-card-checked"))}))}))}if(a.target.classList.contains("edit-card")){const e=a.target.parentElement.parentElement.parentElement.dataset.id;h.forEach(((t,n)=>{t._todos.forEach(((a,r)=>{a._id==e&&(E.reset(),E.elements.title.value=a._title,E.elements.details.value=a._discription,E.elements.dueDate.value=a._dueDate,E.elements.priority.value=a._priority.toLowerCase(),E.elements.project.value=t._name.toLowerCase(),E.dataset.toIndex=r,E.dataset.proIndex=n,D.hidden=!1,T.hidden=!1,C.hidden=!0,S.hidden=!0)}))}))}if(a.target.classList.contains("todo-update-btn")){a.preventDefault();const e=Number(a.target.parentElement.parentElement.dataset.toIndex),t=Number(a.target.parentElement.parentElement.dataset.proIndex),n=h[t]._name;g=h[t]._todos[e],""==E.elements.title&&""==E.elements.dueDate||(g.title=E.elements.title.value,g.discription=E.elements.details.value,g.dueDate=E.elements.dueDate.value,g.priority=E.elements.priority.value),N.textContent="",q(n),k(h[t]._todos),C.hidden=!1,T.hidden=!0,D.hidden=!0,S.hidden=!1,E.reset()}var g;if(a.target.classList.contains("remove-project")){const e=a.target.parentElement.parentElement.dataset.id;h.forEach(((t,n)=>{t._id==e&&h.splice(n,1)})),_.innerHTML="",H(),j()}a.target.classList.contains("today")&&(N.innerHTML="",q("Today"),h.forEach((e=>{e._todos.forEach((e=>{const t=function(e,t){var a;n(1,arguments);var r=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(a=null==t?void 0:t.additionalDigits)&&void 0!==a?a:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var h,g=function(e){var t,n={},a=e.split(s.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],s.timeZoneDelimiter.test(n.date)&&(n.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var r=s.timezone.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}(e);if(g.date){var v=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};var r=a[1]?parseInt(a[1]):null,o=a[2]?parseInt(a[2]):null;return{year:null===o?r:100*o,restDateString:e.slice((a[1]||a[2]).length)}}(g.date,r);h=function(e,t){if(null===t)return new Date(NaN);var n=e.match(d);if(!n)return new Date(NaN);var a=!!n[4],r=u(n[1]),o=u(n[2])-1,i=u(n[3]),s=u(n[4]),c=u(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var r=7*(t-1)+n+1-(a.getUTCDay()||7);return a.setUTCDate(a.getUTCDate()+r),a}(t,s,c):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(p[t]||(f(e)?29:28))}(t,o,i)&&function(e,t){return t>=1&&t<=(f(e)?366:365)}(t,r)?(l.setUTCFullYear(t,o,Math.max(r,i)),l):new Date(NaN)}(v.restDateString,v.year)}if(!h||isNaN(h.getTime()))return new Date(NaN);var y,_=h.getTime(),b=0;if(g.time&&(b=function(e){var t=e.match(c);if(!t)return NaN;var n=m(t[1]),a=m(t[2]),r=m(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,r)?n*i+a*o+1e3*r:NaN}(g.time),isNaN(b)))return new Date(NaN);if(!g.timezone){var D=new Date(_+b),E=new Date(0);return E.setFullYear(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()),E.setHours(D.getUTCHours(),D.getUTCMinutes(),D.getUTCSeconds(),D.getUTCMilliseconds()),E}return y=function(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,r)?n*(a*i+r*o):NaN}(g.timezone),isNaN(y)?new Date(NaN):new Date(_+b+y)}(e._dueDate);console.log(t),function(e){return n(1,arguments),function(e,t){n(2,arguments);var a=r(e),o=r(t);return a.getTime()===o.getTime()}(e,Date.now())}(t)&&function(e){const t=document.createElement("div");t.classList.add("todo-card"),t.dataset.id=e._id,e._checked&&t.classList.add("todo-card-checked"),t.style.borderRight=M(e._priority),t.innerHTML=`\n        <p class="card-title">${e._title}</p>\n        <p class="card-duedate">${e._dueDate}</p>\n        <div class="card-btns">\n            <div class="card-edit">\n                <i class="edit-card fa-regular fa-pen-to-square fa-lg" style="color: #363636;"></i>\n            </div>\n            <div class="card-remove">\n                <i class="card-rm fa-solid fa-delete-left fa-lg" style="color: #212121;"></i>\n            </div>\n        </div>`,N.appendChild(t)}(e)}))})))})),console.log(Date.now())})();